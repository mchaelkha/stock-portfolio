(window.webpackJsonprunner=window.webpackJsonprunner||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=(a(74),a(7)),i=a(11),u=a(134),s=a(127),m=a(128),h=a(136),d=a(135),g=a(126),f=a(45),p=a.n(f),b=a(44),E=a.n(b),v=(a(75),["ASE","BATS","IEXG","NAS","NYS","OTC","PSE"]),k="Help",y="Hide Help",x="Search for stocks to add to the table by\ntyping a stock ticker or company name. Then click on a result from the\nsearch or using tab and enter to select. Sort the table by clicking the\ncolumn headings. Delete an entry using the delete button of the corresponding\nrow.",O="Set Exchanges",w="Hide Exchanges";function j(e){var t=e.exchanges,a=e.setExchanges,c=Object(n.useState)(!1),o=Object(l.a)(c,2),f=o[0],b=o[1],j=Object(n.useState)(!1),S=Object(l.a)(j,2),N=S[0],P=S[1],C=Object(n.useState)(!1),R=Object(l.a)(C,2),L=R[0],T=R[1],B=Object(n.useState)(!1),A=Object(l.a)(B,2),_=A[0],M=A[1];return r.a.createElement("div",{className:"menu-bar"},r.a.createElement("div",{className:"menu-header"},r.a.createElement(g.a,{onClick:function(){P(!(!f&&N)&&N),b(!f)}},r.a.createElement(E.a,null)),r.a.createElement(g.a,{"aria-label":"settings",onClick:function(){b(!(!N&&f)&&f),P(!N)}},r.a.createElement(p.a,null))),f&&r.a.createElement("div",{className:"left-menu-bar"},r.a.createElement("a",{href:"https://github.com/mxk5025/Stock-Portfolio#stock-portfolio",target:"_blank",rel:"noopener noreferrer"},"About"),r.a.createElement("span",{id:"help",onClick:function(e){T(!L),e.target.innerHTML=e.target.innerHTML===k?y:k}},L?y:k),L&&r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{id:"help-text"},x)),r.a.createElement("a",{href:"https://github.com/mxk5025/Stock-Portfolio/issues",target:"_blank",rel:"noopener noreferrer"},"Feedback"),r.a.createElement("a",{href:"https://github.com/mxk5025/",target:"_blank",rel:"noopener noreferrer"},"Contact")),N&&r.a.createElement("div",{className:"right-settings-bar"},r.a.createElement(h.a,{component:"fieldset"},r.a.createElement(d.a,{component:"legend",onClick:function(e){M(!_),e.target.innerHTML=e.target.innerHTML===O?w:O},style:{padding:"10px 5px",color:"#000",cursor:"pointer"}},_?w:O),_&&r.a.createElement(s.a,{onChange:function(e){var n=e.target.value,r=Object(i.a)(t);t.includes(n)?r.splice(r.indexOf(n),1):r.push(n),a(r)},style:{paddingTop:"-5px",paddingLeft:"15px",marginTop:"-5px",marginLeft:"15%",border:"1px",borderLeftStyle:"solid",borderColor:"rgba(0, 0, 0, 0.54)",backgroundColor:"#ddf4f7"}},v.map(function(e){return r.a.createElement(m.a,{key:e,value:e,label:e,labelPlacement:"end",checked:t.includes(e),control:r.a.createElement(u.a,{color:"NAS"===e||"NYS"===e?"secondary":"primary",style:{fontSize:"10pt"}})})})))))}var S=a(12),N=a.n(S),P=a(23),C=a(46),R=a.n(C),L=a(28),T=a.n(L),B=a(47),A=a(22),_=a(48),M=a.n(_),q=a(49),H="?token="+Object({NODE_ENV:"production",PUBLIC_URL:"/stock-portfolio"}).REACT_APP_STOCK_API_KEY;console.log(H);var I=function(){function e(){Object(B.a)(this,e)}return Object(A.a)(e,[{key:"get",value:function(){var e=Object(P.a)(N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"createUrl",value:function(e,t){return"https://cloud.iexapis.com/stable/stock/"+e+t+H}},{key:"isMarketOpen",value:function(e,t){return 9===e?t>=30:e>=9&&e<16}},{key:"makeDataRequest",value:function(e){var t=q.DateTime.local().setZone("America/New_York");return this.isMarketOpen(t.hour,t.minute)?this.getQuote(e):this.getPrevious(e)}},{key:"getQuote",value:function(e){return this.get(this.createUrl(e,"/quote"))}},{key:"getPrevious",value:function(e){return this.get(this.createUrl(e,"/previous"))}},{key:"makeReferenceRequest",value:function(){return this.get("https://cloud.iexapis.com/stable/ref-data/symbols"+H)}},{key:"makeExchangesRequest",value:function(){return this.get("https://cloud.iexapis.com/stable/ref-data/market/us/exchanges"+H)}}]),e}(),D=(a(101),"Search for stocks from exchanges"),F=new I;function U(e){return!e&&0!==e}function Y(e,t){return K.apply(this,arguments)}function K(){return(K=Object(P.a)(N.a.mark(function e(t,a){var n,r,c,o;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.makeDataRequest(t);case 2:return n=e.sent,r=n.data,e.next=6,F.getPrevious(t);case 6:return c=e.sent,e.next=9,F.getQuote(t);case 9:o=e.sent,r.open=U(r.open)?c.data.open:r.open,r.high=U(r.high)?c.data.high:r.high,r.close=U(r.close)?c.data.close:r.close,r.low=U(r.low)?c.data.low:r.low,r.change=U(r.change)?c.data.change:r.change,r.changePercent=U(r.changePercent)?c.data.changePercent:r.changePercent,r.companyName=U(r.companyName)?o.data.companyName:r.companyName,r.latestPrice=U(r.latestPrice)?o.data.latestPrice:r.latestPrice,a(r,!0);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(){return z.apply(this,arguments)}function z(){return(z=Object(P.a)(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.makeReferenceRequest();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var J={shouldSort:!0,threshold:.2,location:0,distance:10,maxPatternLength:30,minMatchCharLength:1,keys:["symbol","name"]},V=function(e){var t=e.name,a=e.sym,n=e.add,c=e.hide;return r.a.createElement("li",{tabIndex:"0",onClick:function(){Y(a,n),c()}},r.a.createElement("b",null,a)," - ",t)};function G(e){var t=e.add,a=e.exchanges,c=Object(n.useState)(),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)([]),m=Object(l.a)(s,2),h=m[0],d=m[1],g=Object(n.useState)(""),f=Object(l.a)(g,2),p=f[0],b=f[1],E=Object(n.useRef)(),v=Object(n.useRef)(),k=Object(n.useRef)(),y=function(){k.current.style.display="none",E.current.style.gridTemplateRows="24pt"},x=function(){k.current.style.display="block",E.current.style.gridTemplateRows="24pt auto"},O=function(){var e=Object(P.a)(N.a.mark(function e(t){var a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:a=e.sent,n=(n=T.a.uniqBy(a.data,"symbol")).filter(function(e){return t.includes(e.exchange)}),u(new R.a(n,J));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){var e=function(e){v.current.contains(e.target)?""!==e.target.value&&x():(k.current.contains(e.target)&&(""===v.current.placeholder&&(v.current.placeholder=D),""!==v.current.value&&(console.log(v.current),v.current.value="")),E.current.contains(e.target)||(v.current.placeholder=D,y()))};return O(a),document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[a]),r.a.createElement("div",{className:"Search"},r.a.createElement("form",{ref:E,onKeyPress:function(e){if("Enter"===e.key){var a=document.activeElement;if(console.log(),"LI"===a.tagName&&a.children.length>0&&"B"===a.children[0].tagName)Y(a.children[0].innerHTML,t);e.preventDefault()}},onSubmit:function(e){return!1}},r.a.createElement("input",{ref:v,type:"search",defaultValue:p,placeholder:D,onClick:function(e){return e.target.placeholder=""},onInput:function(e){b(e.target.value);var t=i.search(e.target.value.trim());t.length>0&&(d(t),x()),0!==t.length&&""!==e.target.value||y()}}),r.a.createElement("ul",{ref:k},h.map(function(e){return r.a.createElement(V,{key:e.symbol,name:e.name,sym:e.symbol,add:t,hide:y})}))))}var X=a(130),Z=a(129),W=a(50),$=a.n(W);function ee(e){return parseFloat(e).toFixed(2)}function te(e,t){var a="";return 0===e?"0.00":(e>0&&(a+="+"),a+=ee(e)+" "+function(e){return"("+Math.abs(Math.round(100*e)/100).toFixed(2).toString()+"%)"}(t))}function ae(e){var t=e.stock,a=e.remove;return r.a.createElement(Z.a,null,r.a.createElement(X.a,{component:"th",scope:"row"},t.companyName),r.a.createElement(X.a,null,t.symbol),r.a.createElement(X.a,{align:"right"},t.open?ee(t.open):"\u2013"),r.a.createElement(X.a,{align:"right"},t.close?ee(t.close):"\u2013"),r.a.createElement(X.a,{align:"right"},t.latestPrice?ee(t.latestPrice):"\u2013"),r.a.createElement(X.a,{align:"right",style:{color:0===t.change?"inherit":t.change>0?"green":"red"}},te(t.change,t.changePercent)),r.a.createElement(X.a,{align:"right"},t.high?ee(t.high):"\u2013"),r.a.createElement(X.a,{align:"right"},t.low?ee(t.low):"\u2013"),r.a.createElement(X.a,null,r.a.createElement(g.a,{"aria-label":"delete",onClick:function(){return a(t)}},r.a.createElement($.a,null))))}var ne=a(106),re=a(133),ce=a(132),oe=a(131),le=a(137),ie=(a(102),[{id:"companyName",numeric:!1,label:"Name"},{id:"symbol",numeric:!1,label:"Symbol"},{id:"open",numeric:!0,label:"Open"},{id:"close",numeric:!0,label:"Close"},{id:"latestPrice",numeric:!0,label:"Current"},{id:"change",numeric:!0,label:"Change"},{id:"high",numeric:!0,label:"High"},{id:"low",numeric:!0,label:"Low"},{id:"delete",numeric:!1,label:""}]);function ue(e){var t=e.hasBody,a=e.order,n=e.orderBy,c=e.onRequestSort;return t?r.a.createElement(oe.a,null,r.a.createElement(Z.a,null,ie.map(function(e){return r.a.createElement(X.a,{key:e.id,align:e.numeric?"right":"left"},r.a.createElement(le.a,{active:n===e.id,direction:a,onClick:(t=e.id,function(e){c(t)})},e.label));var t}))):null}function se(e){var t=e.stocks,a=e.order,n=e.orderBy,c=e.remove,o=Object(i.a)(t);return o=T.a.orderBy(o,n,a),r.a.createElement(ce.a,null,o.map(function(e){return r.a.createElement(ae,{key:e.symbol,stock:e,remove:c})}))}function me(e){var t=e.exchanges,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],u=c[1],s=Object(n.useState)("asc"),m=Object(l.a)(s,2),h=m[0],d=m[1],g=Object(n.useState)("symbol"),f=Object(l.a)(g,2),p=f[0],b=f[1];return r.a.createElement("div",{className:"Portfolio"},r.a.createElement(ne.a,{variant:"h1"},"Portfolio"),r.a.createElement(G,{add:function(e){var t=T.a.uniqBy([].concat(Object(i.a)(o),[e]),"symbol");u(t)},exchanges:t}),r.a.createElement(re.a,null,r.a.createElement(ue,{hasBody:!!o.length,order:h,orderBy:p,onRequestSort:function(e){d(p===e&&"desc"===h?"asc":"desc"),b(e)}}),r.a.createElement(se,{stocks:o,order:h,orderBy:p,remove:function(e){for(var t=Object(i.a)(o),a=t.length-1;a>=0;a--){if(t[a].symbol===e.symbol){t.splice(a,1);break}}u(t)}})))}var he=a(13),de=a.n(he),ge=a(61),fe=a.n(ge),pe=a(62),be=a.n(pe),Ee=a(51),ve=a.n(Ee),ke=a(52),ye=a.n(ke),xe=a(53),Oe=a.n(xe),we=a(54),je=a.n(we),Se=a(55),Ne=a.n(Se),Pe=a(56),Ce=a.n(Pe),Re=a(57),Le=a.n(Re),Te=a(58),Be=a.n(Te),Ae=a(59),_e=a.n(Ae),Me=a(60),qe=a.n(Me),He=(a(103),24),Ie=24;function De(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("footer",null,r.a.createElement("div",{className:"link-container"},r.a.createElement("div",{className:"powered-container"},r.a.createElement("b",null,"Powered by \xa0"),r.a.createElement("a",{href:"https://iexcloud.io",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{id:"iex-cloud-logo",src:_e.a,alt:""}))),r.a.createElement("div",{className:"show-stack-container"},r.a.createElement("a",{href:"https://github.com/mxk5025/Stock-Portfolio",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(de.a,{width:He,height:Ie,icon:ve.a})),r.a.createElement(g.a,{size:"small",onClick:function(){c(!a)}},a?r.a.createElement(fe.a,null):r.a.createElement(be.a,null)))),r.a.createElement("div",{className:"footer-end"},r.a.createElement("span",null,"\xa9 2019 Michael Kha. All Rights Reserved."),a&&r.a.createElement("div",{className:"made-with-container"},r.a.createElement(de.a,{width:He,height:Ie,icon:ye.a}),r.a.createElement(de.a,{width:He,height:Ie,icon:Oe.a}),r.a.createElement(de.a,{width:He,height:Ie,icon:je.a}),r.a.createElement(de.a,{width:He,height:Ie,icon:Ne.a}),r.a.createElement(de.a,{width:He,height:Ie,icon:Ce.a}),r.a.createElement("span",{id:"fuse"},"Fuse.js"),r.a.createElement("span",{id:"axios"},"axios"),r.a.createElement("span",{id:"luxon"},"Luxon"),r.a.createElement("img",{id:"lodash",width:He,height:Ie,src:qe.a,alt:""}),r.a.createElement(de.a,{width:He,height:Ie,icon:Le.a}),r.a.createElement(de.a,{width:He,height:Ie,icon:Be.a}))))}a(104);var Fe=["NYS","NAS"];o.a.render(r.a.createElement(function(){var e=Object(n.useState)(Fe),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(j,{exchanges:a,setExchanges:c}),r.a.createElement(me,{exchanges:a}),r.a.createElement(De,null))},null),document.getElementById("root"))},59:function(e,t,a){e.exports=a.p+"static/media/logo-black.34f952f2.svg"},60:function(e,t,a){e.exports=a.p+"static/media/lodash.ce9daa79.svg"},69:function(e,t,a){e.exports=a(105)},74:function(e,t,a){},75:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.41bb2609.chunk.js.map